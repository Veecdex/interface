<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="scss/_mixin.scss">
  <link rel="stylesheet" href="scss/_responsive.scss">
  <link rel="stylesheet" href="scss/style.scss">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UK reeyah</title>
 
  
<style>
  @media (max-width: 767px) {
    main {
      max-width: 100% !important;
      padding-left: 0 !important;
      padding-right: 0 !important;
      gap: 0 !important;
    }

    .product-info {
      padding: 0 !important;
    }

    .product-card > .product-info > button.bg-blue-400 {
      padding-left: 1rem !important;
      padding-right: 1rem !important;
    }

  }
  .gallery-frame {
  width: min(420px, 90vw);
  height: min(420px, 90vw);
}
@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

.skeleton {
  background: linear-gradient(
    90deg,
    #e5e7eb 25%,
    #f3f4f6 37%,
    #e5e7eb 63%
  );
  background-size: 1000px 100%;
  animation: shimmer 1.5s infinite linear;
}

.skeleton-dark {
  background: linear-gradient(
    90deg,
    #1a1a1a 25%,
    #2a2a2a 37%,
    #1a1a1a 63%
  );
  background-size: 1000px 100%;
  animation: shimmer 1.5s infinite linear;
}
@media (max-width: 640px) {
  #userPanel {
    right: 10% !important;
    nav-left: auto !important;
    max-width: 85vw;     /* AGGRESSIVE edge safety */
    margin-left: 0;
    margin-right: 0;
    max-width: 360px;     /* prevents over-stretch */
    padding-left: 12px;
    padding-right: 12px;
  }
}


/* Payment Sheet Active */
#paymentSheet.active #paymentContent {
  transform: translateY(0);
}

@keyframes scale-in {
  from { transform: scale(.85); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}
.animate-scale-in {
  animation: scale-in .25s ease-out;
}
/* Fade out smoothly */
.preloader-hide {
  opacity: 0;
  pointer-events: none;
  transition: opacity .4s ease;
}
/* ===========================
   DESKTOP ONLY PRODUCT CARDS
   =========================== */
   @media (min-width: 768px) {

/* Card container feel */
#productsGrid > div {
  background: #ffffff;
  border-radius: 20px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.06);
  transition: transform 0.25s ease, box-shadow 0.25s ease;
}

#productsGrid > div:hover {
  transform: translateY(-4px);
  box-shadow: 0 16px 40px rgba(0, 0, 0, 0.1);
}

/* Title */
#productsGrid h2 {
  font-size: 0.95rem; /* slightly bigger */
  line-height: 1.3;
}

/* Description */
#productsGrid p {
  font-size: 0.85rem;
  line-height: 1.45;
}

/* Price tag */
#productsGrid .absolute.top-1.left-1 {
  font-size: 0.9rem;
  padding: 4px 8px;
  border-radius: 8px;
}

/* View details */
#productsGrid .view-details-btn {
  font-size: 0.85rem;
  font-weight: 500;
}

/* Add to cart button */
#productsGrid button {
  font-size: 0.9rem;
}
}
/* ===========================
   MOBILE READABILITY TWEAK
   =========================== */
   #productsGrid h2 {
  font-size: 0.85rem;
  line-height: 1.3;
}

#productsGrid p {
  font-size: 0.78rem;
  line-height: 1.4;
}

/* ===========================
   DESKTOP CONTAINER SPACING
   =========================== */
@media (min-width: 1024px) {

  /* Space from screen edges */
  #productsGrid {
    padding-left: 2.5rem;
    padding-right: 2.5rem;
    gap: 1.5rem;
  }

  /* Individual card breathing space */
  #productsGrid > div {
    margin-bottom: 0.75rem;
  }

}
/* ===========================
   HOT PICKS CONTAINER
   =========================== */
   .hot-picks-container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: linear-gradient(135deg, #f8fafc, #eef2ff);
  border-radius: 20px;
  padding: 14px 16px;
  margin: 16px 12px 10px;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
}

.hot-picks-left {
  display: flex;
  align-items: center;
  gap: 12px;
}

.hot-icon {
  width: 44px;
  height: 44px;
  border-radius: 14px;
  background: linear-gradient(135deg, #6366f1, #4f46e5);
  display: flex;
  align-items: center;
  justify-content: center;
  color: #ffffff;
  box-shadow: 0 6px 14px rgba(79, 70, 229, 0.35);
}

.hot-icon svg {
  width: 22px;
  height: 22px;
}

.hot-text h3 {
  font-size: 0.95rem;
  font-weight: 600;
  color: #111827;
  line-height: 1.2;
}

.hot-text p {
  font-size: 0.75rem;
  color: #6b7280;
  margin-top: 2px;
}

.hot-action span {
  font-size: 0.7rem;
  font-weight: 600;
  padding: 6px 10px;
  border-radius: 999px;
  background: #ffffff;
  color: #4f46e5;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.06);
}

/* ===========================
   DESKTOP POLISH
   =========================== */
@media (min-width: 1024px) {
  .hot-picks-container {
    margin: 20px 2.5rem 14px;
    padding: 18px 22px;
  }

  .hot-text h3 {
    font-size: 1.05rem;
  }

  .hot-text p {
    font-size: 0.85rem;
  }
}
.nav-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  font-size: 10px;
  font-weight: 500;
  color: #6b7280;
}

.nav-active {
  color: #111827;
}

.nav-active svg {
  stroke: #111827;
}



</style>

  <!-- Modern font -->
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            app: ['Manrope', 'sans-serif'],
          },
        },
      },
    }
  </script>
</head>

<body class="bg-white-400 font-app text-zinc-900">
<!-- App Preloader -->
<div
  id="appPreloader"
  class="fixed inset-0 z-[9999] flex items-center justify-center bg-white"
>
  <div class="flex flex-col items-center gap-3">

    <!-- Logo -->
    <img
      src="mainlg.png"
      alt="UK-Reeyah"
      class="w-100 h-60 object-contain"
    />

    <!-- Small Spinner -->
    <div class="relative w-4 h-4">
      <span class="absolute inset-0 rounded-full border border-[#2c2a63]/30"></span>
      <span
        class="absolute inset-0 rounded-full border border-[#2c2a63]
               border-t-transparent animate-spin">
      </span>
    </div>

  </div>
</div>


<!-- HEADER / HERO NAV -->


<header 
class="fixed top-0 left-0 w-full z-50 pb-6 rounded-b-[3rem] overflow-hidden"
  style="background-image: url('images/Retail.jpeg'); background-size: cover; background-position: center;"
>
  <!-- Dark overlay -->
  <div class="absolute inset-0 bg-black/80"></div>


  <!-- Content -->
  <div class="relative z-10 max-w-7xl mx-auto px-5 pt-5 text-white">

    <!-- Top Nav -->
    <div class="flex items-center justify-between">
      
      <!-- Logo -->
      <div class="text-xl sm:text-2xl font-bold tracking-tight">
      UK <span class="text-white">Reeyah</span>
      </div>

      <!-- Icons -->
      <div class="flex items-center gap-3">
        <button class="p-2 rounded-full hover:bg-white/15 transition">
          <svg xmlns="http://www.w3.org/2000/svg"
               class="h-5 w-5"
               viewBox="0 0 24 24"
               fill="currentColor">
            <path d="M21.41 11.58l-9-9A2 2 0 0011 2H4a2 2 0 00-2 2v7a2 2 0 00.59 1.41l9 9a2 2 0 002.82 0l7-7a2 2 0 000-2.83z"/>
            <circle cx="6.5" cy="6.5" r="1.5"/>
            <text x="10" y="14" font-size="7" fill="white">‚Ç¶</text>
          </svg>
        </button>
<!-- Cart Button -->
<div class="relative z-[100]">
  <button id="cartBtn"
    class="relative p-2 rounded-full hover:bg-white/15 transition overflow-visible">

    <!-- Cart Icon -->
    <svg xmlns="http://www.w3.org/2000/svg"
         class="h-5 w-5"
         viewBox="0 0 24 24"
         fill="currentColor">
      <path d="M3 3h2l.4 2M7 13h10l4-8H5.4
               M7 13l-1.3 2.6A1 1 0 007 17h12
               M7 13l1.5-3M16 13l-1.5-3
               M9 21a1 1 0 100-2
               M17 21a1 1 0 100-2z"/>
    </svg>

    <!-- Cart Count Badge (ALWAYS VISIBLE) -->
    <span
      class="
        absolute -top-1.5 -right-1.5
        z-[999]
        min-w-[16px] h-[16px]
        bg-[#2c2a63]
        text-white
        text-[9px]
        font-semibold
        flex items-center justify-center
        rounded-full
        px-1
        pointer-events-none
      ">
      0
    </span>

  </button>
</div>


       <!-- Notification Button Wrapper -->
<div class="relative">
  <button id="notifBtn" class="relative p-2 rounded-full hover:bg-white/15 transition">
    <span class="absolute top-1.5 right-1.5 h-2 w-2 bg-[#2c2a63] rounded-full"></span>
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
        d="M15 17h5l-1.4-1.4A2 2 0 0118 14.2V11a6 6 0 00-5-5.9V4a1 1 0 10-2 0v1.1A6 6 0 006 11v3.2c0 .5-.2 1-.6 1.4L4 17h5m6 0a3 3 0 11-6 0h6z" />
    </svg>
  </button>

  
  <!-- Notifications Panel -->
  <div id="notifPanel"
  class="hidden fixed top-16 right-4 mt-2 w-72
         bg-white dark:bg-gray-800
         border border-gray-200 dark:border-gray-700
         rounded-xl shadow-lg p-3 z-50">

    
    <!-- Header -->
    <p class="font-semibold text-sm text-gray-900 dark:text-white mb-2">Notifications</p>
    
    <!-- Notification Items -->
    <div class="flex flex-col gap-2 mb-3">
      <!-- Update Notification -->
      <div class="flex items-start gap-2 p-2 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition">
        <div class="w-2 h-2 bg-[#2c2a63] rounded-full mt-1"></div>
        <div>
          <p class="text-[12px] font-medium text-gray-900 dark:text-white">App Update</p>
          <p class="text-[10px] text-gray-500 dark:text-gray-300">Version 2.1 is now available!</p>
        </div>
      </div>

      <!-- Welcome Notification -->
      <div class="flex items-start gap-2 p-2 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition">
        <div class="w-2 h-2 bg-[#2c2a63] rounded-full mt-1"></div>
        <div>
          <p class="text-[12px] font-medium text-gray-900 dark:text-white">Welcome New Users</p>
          <p class="text-[10px] text-gray-500 dark:text-gray-300">Check out the latest features!</p>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="flex gap-2 mt-1">
      <button class="flex-1 py-1 text-[12px] bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600">Customer Care</button>
      <button class="flex-1 py-1 text-[12px] bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600">Feedback</button>
    </div>
  </div>
</div>

<!-- Script -->
<script>
  const notifBtn = document.getElementById('notifBtn');
  const notifPanel = document.getElementById('notifPanel');

  notifBtn.addEventListener('click', (e) => {
    e.stopPropagation();
    notifPanel.classList.toggle('hidden');
  });

  document.addEventListener('click', (e) => {
    if (!notifPanel.contains(e.target) && !notifBtn.contains(e.target)) {
      notifPanel.classList.add('hidden');
    }
  });
</script>

      </div>
      
    </div>

    <!-- User Intro (centered) -->
    <div class="mt-6 flex flex-col items-center text-center">
      <div class="flex items-center gap-2 text-sm sm:text-base font-medium">
        <div class="h-7 w-7 rounded-full bg-white/20 flex items-center justify-center">
          <div
          id="introAvatar"
          class="h-6 w-6 rounded-full flex items-center justify-center
                 bg-[#2c2a63]/10 text-[#2c2a63]"
        >
          <svg xmlns="http://www.w3.org/2000/svg"
               class="h-4 w-4"
               viewBox="0 0 24 24"
               fill="currentColor">
            <path d="M12 12a4 4 0 100-8 4 4 0 000 8zm0 2c-4 0-7 2-7 4v2h14v-2c0-2-3-4-7-4z"/>
          </svg>
        </div>
        
     
          
        </div>
        <span>Hey, <span id="introName" class="font-semibold">....</span>
      </div>
      <p class="mt-1 text-xs sm:text-sm text-white/80">
        What would you like to buy today?
      </p>
    </div>

 <!-- Search Bar -->
<div class="mt-4 flex justify-center">
  <div class="w-full max-w-xl px-3">
    <div class="flex items-center rounded-full overflow-hidden bg-white/10 border border-white/20">
      
      <input
        id="searchInput"
        type="text"
        placeholder="Search products"
        class="w-full px-4 py-2 bg-transparent text-sm sm:text-base placeholder-white/70 outline-none text-white"
      />

      <button
        id="searchBtn"
        class="bg-white text-[#6D5DF6] px-4 py-2 flex items-center justify-center"
      >
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 sm:h-5 sm:w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M21 21l-4.35-4.35m1.85-5.4a7 7 0 11-14 0 7 7 0 0114 0z" />
        </svg>
      </button>

    </div>

    <!-- Tiny Bright Loader -->
    <div id="searchLoader" class="hidden flex justify-center mt-3">
      <div class="w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"></div>
    </div>

  </div>
</div>

  </div>
</header>

<!-- Spacer to prevent content being hidden behind fixed header -->
<div class="h-[200px]"></div>
<!-- Hot Picks Header -->
<div id="hotPicks" class="hot-picks-container">
  <div class="hot-picks-left">
    <div class="hot-icon">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 2C8 7 18 9 18 15a6 6 0 11-12 0c0-3 2-5 4-7 1-1 2-2 2-6z"/>
      </svg>
    </div>

    <div class="hot-text">
      <h3>Hot Picks for You</h3>
      <p>Trending items customers love right now</p>
    </div>
  </div>

  <div class="hot-action">
    <span>üî• Curated</span>
  </div>
</div>
<div id="productsGrid" class="grid grid-cols-1 md:grid-cols-3 md:gap-3 gap-0 w-full mt-7"></div>
<!-- MAIN LAYOUT -->
<main class="max-w-7xl mx-auto px-5 py-6 flex gap-6">

<!-- Bottom Fixed Navigation (desktop + mobile) --> 
<!-- Minimal Bottom Navigation -->
<aside
  class="fixed bottom-2 left-1/2 -translate-x-1/2 z-50
         w-[94%] max-w-3xl
         bg-white
         border border-gray-200
         rounded-xl
         px-4 py-1.5
         flex items-center justify-between shadow-sm">

  <!-- Home (active) -->
  <button class="nav-item nav-active">
    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-width="2" d="M3 9.75L12 4l9 5.75V20a1 1 0 01-1 1h-5v-6H9v6H4a1 1 0 01-1-1V9.75z"/>
    </svg>
    <span>Home</span>
  </button>

  <!-- Orders -->
  <button class="nav-item">
    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-width="2" d="M7 7h10M7 11h6M5 21h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v14a2 2 0 002 2z"/>
    </svg>
    <span>Orders</span>
  </button>

  <!-- Me (UNCHANGED LOGIC) -->
  <div class="relative">
    <button id="meBtn" class="nav-item">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-width="2" d="M5.1 17a7 7 0 0113.8 0M12 12a4 4 0 100-8 4 4 0 000 8z"/>
      </svg>
      <span>Me</span>
    </button>



  <!-- User Panel (hidden by default) -->
  <div style="margin-right: 100px;" id="userPanel" class="hidden absolute bottom-full mb-3
  left-2/5 -translate-x-2/5
  sm:left-auto sm:right-1/2 sm:translate-x-1/2
  w-60 max-w-[90vw]
  px-3
  bg-white dark:bg-gray-800
  border border-gray-200 dark:border-gray-700
  rounded-xl shadow-md p-3 z-50"
>
    <!-- User Info -->
    <div class="flex items-center gap-3 mb-3">
      <div
      id="profileAvatar"
      class="w-9 h-9 rounded-full flex items-center justify-center
             bg-[#2c2a63]/10 text-[#2c2a63]"
    >
      <svg xmlns="http://www.w3.org/2000/svg"
           class="w-5 h-5"
           viewBox="0 0 24 24"
           fill="currentColor">
        <path d="M12 12a4 4 0 100-8 4 4 0 000 8zm0 2c-4 0-7 2-7 4v2h14v-2c0-2-3-4-7-4z"/>
      </svg>
    </div>
    
      <div>
        <p id="profileName" class="font-semibold text-sm text-gray-900 dark:text-white">
          User Name
          </p>
          <p id="profileDate" class="text-[10px] text-gray-500 dark:text-gray-400">
            Joined: ‚Äî
            </p>
      </div>
    </div>

    <!-- Action Buttons Side by Side -->
    <div class="flex justify-between gap-2">
      <button id="editProfileBtn" class="flex-1 py-1 text-[12px] bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600">Edit</button>
      <button id="logoutBtn" class="flex-1 py-1 text-[12px] bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600">Logout</button>
    </div>
  </div>
</div>

<!-- Script to toggle panel -->
<script>
  const meBtn = document.getElementById('meBtn');
  const userPanel = document.getElementById('userPanel');

  meBtn.addEventListener('click', (e) => {
    e.stopPropagation();
    userPanel.classList.toggle('hidden');
  });

  document.addEventListener('click', (e) => {
    if (!userPanel.contains(e.target) && !meBtn.contains(e.target)) {
      userPanel.classList.add('hidden');
    }
  });
</script>

</aside>



<!-- Lucide CDN -->
<script src="https://cdn.jsdelivr.net/npm/lucide@0.244.0/dist/lucide.min.js"></script>
<script>
  lucide.createIcons();
</script>


</main>
<div id="productModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/50 backdrop-blur-sm">
  
  <div class="relative bg-white w-[90%] max-w-md rounded-3xl p-5">
    
    <!-- Close -->
    <button onclick="closeModal()" class="absolute top-4 left-4 text-gray-500">
      ‚úï
    </button>

    <!-- Image -->
    <div class="flex justify-center mt-4">
      <img id="modalImage" class="w-24 h-24 rounded-full object-cover" />
    </div>

    <!-- Title -->
    <h2 id="modalTitle" class="text-center font-bold mt-3"></h2>

    <!-- Details -->
    <div class="mt-4 text-sm text-gray-600 space-y-2">
      <p><b>1. Condition:</b> <span id="modalCondition"></span></p>
      <p><b>2. Size:</b> <span id="modalSize"></span></p>
      <p><b>3. Delivery:</b> <span id="modalDelivery"></span></p>
    </div>

    <!-- Payment -->
    <p class="text-xs text-center mt-4 text-gray-500">
      Secure payments powered by Paystack
    </p>
    
    <button
    id="proceedCheckoutBtn"
    class="mt-3 w-full bg-[#2c2a63] text-white py-3 rounded-full font-semibold">
    Proceed to checkout
  </button>
  
  </div>
</div>
<div id="gallery" class="fixed inset-0 z-[999] hidden bg-black/80 flex items-center justify-center">

  <!-- Back -->
  <button onclick="closeGallery()"
    class="absolute top-5 left-5 w-11 h-11 rounded-full bg-black/60 backdrop-blur
           flex items-center justify-center text-white">
    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none"
      viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
        d="M15 19l-7-7 7-7" />
    </svg>
  </button>

  <!-- Slider container -->
  <div class="relative gallery-frame h-[400px] w-[400px] overflow-hidden rounded-2xl bg-black">
    <div id="gallerySlider" class="flex  transition-transform duration-300 ease-out">
    </div>

    <!-- Controls -->
    <button onclick="prevSlide()" 
      class="absolute left-2 top-1/2 -translate-y-1/2 w-9 h-9 rounded-full bg-black/60 text-white flex items-center justify-center">
      ‚Äπ
    </button>

    <button onclick="nextSlide()" 
      class="absolute right-2 top-1/2 -translate-y-1/2 w-9 h-9 rounded-full bg-black/60 text-white flex items-center justify-center">
      ‚Ä∫
    </button>
  </div>
</div>



<!-- Toast -->
<div id="toast" class="fixed bottom-6 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white px-4 py-2 rounded-md opacity-0 transition-opacity duration-300 z-50"></div>


<!-- Cart Backdrop -->
<div id="cartBackdrop" class="fixed inset-0 bg-black/40 hidden z-[999]"></div>

<!-- Cart Sheet -->
<div id="cartSheet"
  class="fixed bottom-0 left-0 w-full h-[90vh]
         bg-white rounded-t-2xl
         translate-y-full transition-transform duration-300
         z-[1000] flex flex-col">

  <!-- Header -->
  <div class="flex items-center gap-2 p-4 border-b">
    <button onclick="closeCart()" class="p-1">
      ‚úï
    </button>
    <h2 class="font-semibold text-sm">My Shop Cart</h2>
  </div>

  <!-- Cart Items -->
  <div id="cartItems" class="flex-1 overflow-y-auto p-4 space-y-4"></div>

<!-- Empty Cart State -->
<div id="emptyCart"
  class="flex flex-col items-center justify-center
         text-center gap-3 py-2 text-gray-400">
  
  <!-- Empty Cart Icon -->
  <svg xmlns="http://www.w3.org/2000/svg"
       class="w-14 h-14"
       fill="none"
       viewBox="0 0 24 24"
       stroke="currentColor"
       stroke-width="1.5">
    <path stroke-linecap="round" stroke-linejoin="round"
      d="M3 3h2l.4 2M7 13h10l4-8H5.4
         M7 13l-1.5 3A1 1 0 007 18h12" />
  </svg>

  <p class="text-sm font-medium">Shop cart is empty</p>
</div>

  <!-- Checkout -->
  <div class="border-t p-4 space-y-3 text-xs">

    <p class="font-semibold">Checkout</p>

<!-- Full Name -->
<div class="flex items-center border rounded-md px-3 py-2 gap-2">

  <!-- User Icon -->
  <svg xmlns="http://www.w3.org/2000/svg"
       class="w-4 h-4 text-gray-400"
       fill="none"
       viewBox="0 0 24 24"
       stroke="currentColor"
       stroke-width="2">
    <path stroke-linecap="round" stroke-linejoin="round"
      d="M5.121 17.804A13.937 13.937 0 0112 15
         c2.5 0 4.847.655 6.879 1.804
         M15 11a3 3 0 11-6 0
         a3 3 0 016 0z" />
  </svg>

  <input
    id="customerName"
    type="text"
    placeholder="Full Name"
    autocomplete="name"
    class="flex-1 outline-none text-sm"
  />
</div>

  
<!-- Email Address -->
<div class="flex items-center border rounded-md px-3 py-2 gap-2">

  <!-- Email Icon -->
  <svg xmlns="http://www.w3.org/2000/svg"
       class="w-4 h-4 text-gray-400"
       fill="none"
       viewBox="0 0 24 24"
       stroke="currentColor"
       stroke-width="2">
    <path stroke-linecap="round" stroke-linejoin="round"
      d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8
         M5 6h14a2 2 0 012 2v8a2 2 0 01-2 2H5
         a2 2 0 01-2-2V8a2 2 0 012-2z" />
  </svg>

  <input
    id="customerEmail"
    type="email"
    placeholder="example@email.com"
    class="flex-1 outline-none text-sm"
  />
</div>

  
  <select id="shippingSelect" onchange="updateTotals()"
    class="w-full border rounded-md px-3 py-2">
    <option value="0">Select Shipping Address</option>
    <option value="2000">Lagos ‚Äì ‚Ç¶2,000</option>
    <option value="4000">Outside Lagos ‚Äì ‚Ç¶4,000</option>
  </select>
  
<!-- Phone Number -->
<div class="flex items-center border rounded-md px-3 py-2 gap-2">
  
  <!-- Nigerian Flag -->
  <span class="text-lg">üá≥üá¨</span>
  <span class="text-xs text-gray-500">+234</span>

  <input
    id="customerPhone"
    type="tel"
    inputmode="numeric"
    maxlength="11"
    placeholder="8012345678"
    class="flex-1 outline-none text-sm"
  />
</div>

  

    <!-- Totals -->
    <div class="text-[11px] space-y-1">
      <div class="flex justify-between">
        <span>Total items</span><span id="totalItems">0</span>
      </div>
      <div class="flex justify-between">
        <span>Total price</span><span id="itemsTotal">‚Ç¶0</span>
      </div>
      <div class="flex justify-between">
        <span>Shipping fee</span><span id="shippingFee">‚Ç¶0</span>
      </div>
      <div class="flex justify-between font-semibold">
        <span>Total</span><span id="grandTotal">‚Ç¶0</span>
      </div>
    </div>

    <p class="text-[10px] text-center text-gray-500">
      Secured payments powered by Paystack
    </p>

    <button
    id="payBtn"
    disabled
    class="w-full bg-[#2c2a63] text-white rounded-full py-3
           text-sm font-semibold opacity-40 cursor-not-allowed">
    Pay ‚Ç¶<span id="payAmount">0</span>
  </button>
  

  </div>

  <!-- Payment Result Modal -->
<div id="paymentResult"
class="fixed inset-0 hidden z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm">

<div class="bg-white rounded-2xl p-6 w-[90%] max-w-sm text-center animate-scale-in">

<div id="paymentIcon" class="flex justify-center mb-4"></div>

<h2 id="paymentTitle" class="text-lg font-semibold"></h2>
<p id="paymentMessage" class="text-sm text-gray-500 mt-1"></p>

<button id="orderStatusBtn"
 class="hidden mt-5 w-full py-2 rounded-full bg-black text-white text-sm">
 View Order Status
</button>

<button onclick="closePaymentResult()"
 class="mt-3 w-full py-2 rounded-full border text-sm">
 Close
</button>

</div>
</div>

</div>
<!-- Toast -->
<div id="toast"
  class="fixed bottom-6 left-1/2 -translate-x-1/2
         bg-[#1A1A1A] text-white
         px-4 py-2 rounded-full
         text-[12px]
         opacity-0 pointer-events-none
         transition-opacity duration-300
         z-[2000]">
</div>
<!-- Add this modal HTML somewhere in body -->
<div id="editProfileModal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50">
  <div class="bg-white dark:bg-gray-800 rounded-xl p-6 w-80 sm:w-96 relative">
    <h3 class="text-lg font-semibold mb-4 text-gray-900 dark:text-white">Edit Profile</h3>
    <div class="flex flex-col gap-3">
      <input id="editFirstName" type="text" placeholder="First Name"
        class="w-full px-3 py-2 border rounded-md text-gray-900 dark:text-white bg-gray-100 dark:bg-gray-700">
      <input id="editLastName" type="text" placeholder="Last Name"
        class="w-full px-3 py-2 border rounded-md text-gray-900 dark:text-white bg-gray-100 dark:bg-gray-700">
      <label class="flex items-center gap-2 cursor-pointer text-gray-700 dark:text-gray-200">
        <span>Change Profile Image</span>
        <input id="editPhoto" type="file" accept="image/*" class="hidden">
      </label>
    </div>
    <div class="flex justify-end gap-2 mt-4">
      <button id="cancelEditBtn" class="px-4 py-2 bg-gray-200 dark:bg-gray-700 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600">Cancel</button>
      <button id="saveEditBtn" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">Save</button>
    </div>
  </div>
</div>
<script>
  const productsGrid = document.getElementById("productsGrid");
  
  function productCardTemplate(product , index) {
    return `
    <div class="bg-white overflow-hidden md:rounded-2xl w-full flex flex-col">
  
      <!-- Media -->
      <div class="flex w-full md:h-48 gap-0 md:gap-1">
        <div class="flex flex-col gap-0 md:gap-1 w-1/2">
          <div class="relative h-24 md:h-28 overflow-hidden">
            <img 
  src="${product.imageTop}" 
  class="object-cover w-full h-full media-click"
  data-index="${index}"
  data-media="0"
/>

            <div class="absolute top-1 left-1 bg-black/40 text-white text-18 font-bold px-1 py-0.5 rounded">
              ${product.price}
            </div>
          </div>
          <div class="h-24 md:h-28 overflow-hidden">
            <img 
  src="${product.imageBottom}" 
  class="object-cover w-full h-full media-click"
  data-index="${index}"
  data-media="1"
/>

          </div>
        </div>
  
        <!-- Video preview -->
<div class="relative w-1/2 h-48 md:h-full overflow-hidden">
  <img
  src="${product.videoPreview}"
  class="object-cover w-full h-full cursor-pointer"
  onclick="openGallery(products[${index}].media, 2)"
/>

          <div class="absolute inset-0 bg-black/20"></div>
  
          <div class="absolute inset-0 flex items-center justify-center">
            <div   onclick="openGallery(products[${index}].media, 2)" class="flex items-center justify-center w-14 h-14 rounded-full bg-white/80 backdrop-blur-md shadow-md">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-blue" fill="currentColor" viewBox="0 0 24 24">
                <path d="M8 5v14l11-7z" />
              </svg>
            </div>
          </div>
        </div>
      </div>
  
      <!-- Info -->
      <div class="p-2 md:p-3 flex flex-col gap-1">
        <h2 class="text-xs md:text-sm font-semibold text-zinc-800">
          ${product.title}
        </h2>\
  
        <p class="text-xs text-zinc-500 line-clamp-2">
          ${product.description}
        </p>
  
        <button 
  class="text-blue 400 text-xs hover:underline text-left mt-1 view-details-btn"
  data-index="${index}">
  view details
</button>

  
<button
onclick="addToCart('${product.id}')"

  class="
    bg-[#e5e7eb]
    hover:bg-[#2c2a63]
    hover:text-white
    text-[#0F0F0F]
    rounded-full
    px-5 py-3
    flex items-center justify-center gap-1.5
    text-[12px]
    md:text-xs
    font-semibold
    mt-2
    w-full
    transition-colors duration-200
  ">
  Add to cart
  <svg xmlns="http://www.w3.org/2000/svg"
       class="w-4 h-4 -mt-[1px]"
       viewBox="0 0 24 24"
       fill="currentColor">
    <path d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13l-1.3 2.6A1 1 0 007 17h12M7 13l1.5-3M16 13l-1.5-3M9 21a1 1 0 100-2zm10 0a1 1 0 100-2z"/>
  </svg>
</button>



      </div>
  
    </div>
    `;
  }
  </script>
  
<script>
  const products = [
    {
    id: "bag-001",
    title: "Leather Crossbody Bag",
    description: "Compact and stylish leather bag for everyday use.",
    imageTop: "bag1.jpg",
    price: "‚Ç¶18,500",
    media: [
  { type: "image", src: "bag1.jpg" },
  { type: "image", src: "bag2.jpg" },

  // üëá THIS IS THE VIDEO
  { type: "video", src: "videos/product-video.mp4" }
],

    imageTop: "bag1.jpg",
    imageBottom: "bag2.jpg",
    videoPreview: "bag 3.jpg",
    condition: "New",
    size: "Medium",
    delivery: "Delivered within 2‚Äì3 business days"
    },
    {
      id: "sneakers-001",
      title: "Running Sneakers",
      description: "Lightweight sneakers ideal for jogging and casual wear. Breathable material with soft cushioning..",
      price: " ‚Ç¶12,750",
      imageTop: "hoodie.jpg",
      imageBottom: "hoodie 2.jpg",
      videoPreview: "hoodie 3.jpg",
    },
    {
    title: "Classic Denim Jacket",
      description: " Stylish blue denim jacket perfect for casual wear. Limited edition, durable cotton fabric.",
      price: " ‚Ç¶45,000",
      imageTop: "images/project-01.png",
      imageBottom: "images/project-02.png",
      videoPreview: "images/hospitality.jpg",
    },
    {
      title: "Leather Crossbody Bag",
      description: "Compact and stylish leather bag for everyday use. Adjustable strap and premium finish.",
      price: "‚Ç¶18,500",
      imageTop: "images/project-03.png",
      imageBottom: "images/Retail.jpeg",
      videoPreview: "images/entertainment.jpg",
    },
    {
      title: "Running Sneakers",
      description: "Lightweight sneakers ideal for jogging and casual wear. Breathable material with soft cushioning..",
      price: " ‚Ç¶12,750",
      imageTop: "images/food.jpg",
      imageBottom: "images/energy.jpg",
      videoPreview: "images/service.jpg",
    },
    {
    title: "Classic Denim Jacket",
      description: " Stylish blue denim jacket perfect for casual wear. Limited edition, durable cotton fabric.",
      price: " ‚Ç¶45,000",
      imageTop: "images/project-01.png",
      imageBottom: "images/project-02.png",
      videoPreview: "images/hospitality.jpg",
    }
  ];
  </script>
  <script>
products.forEach(product => {
  productsGrid.innerHTML += productCardTemplate(product);
});

</script>

<script>
  productsGrid.innerHTML = products
    .map((product, index) => productCardTemplate(product, index))
    .join("");
  </script>

<script>
  const modal = document.getElementById("productModal");
  
  document.addEventListener("click", (e) => {
    if (e.target.classList.contains("view-details-btn")) {
      const index = e.target.dataset.index;
      openModal(products[index]);
    }
  });
  
  function openModal(product) {
    document.getElementById("modalImage").src = product.imageTop;
    document.getElementById("modalTitle").textContent = product.title;
    document.getElementById("modalCondition").textContent = product.condition;
    document.getElementById("modalSize").textContent = product.size;
    document.getElementById("modalDelivery").textContent = product.delivery;
    document.getElementById("modalPrice").textContent = product.price;
  
    modal.classList.remove("hidden");
    modal.classList.add("flex");
  }
  
  function closeModal() {
    modal.classList.add("hidden");
    modal.classList.remove("flex");
  }
  </script>
<script>
  let currentIndex = 0;
  let activeMedia = [];
  
  const gallery = document.getElementById("gallery");
  const slider = document.getElementById("gallerySlider");
  
  /* ‚úÖ FIXED CLICK HANDLER */
  document.addEventListener("click", (e) => {
    const mediaEl = e.target.closest(".media-click");
    if (!mediaEl) return;
  
    const p = products[mediaEl.dataset.index];
    openGallery(p.media, Number(mediaEl.dataset.media));
  });
  
  function openGallery(media, index) {
    activeMedia = media;
    currentIndex = index;
    slider.innerHTML = "";
  
    media.forEach(item => {
      const slide = document.createElement("div");
      slide.className = "w-full h-full shrink-0 flex items-center justify-center";
  
      if (item.type === "image") {
        slide.innerHTML = `
          <div class="w-[400px] h-[400px] overflow-hidden flex items-center justify-center">
            <img src="${item.src}"
                 class="w-full h-full object-cover" />
          </div>
        `;
      } else {
        slide.innerHTML = `
          <div class="w-[400px] h-[400px] overflow-hidden flex items-center justify-center">
            <video controls
                   class="w-full h-full object-cover">
              <source src="${item.src}" type="video/mp4">
            </video>
          </div>
        `;
      }
  
      slider.appendChild(slide);
    });
  
    updateSlide();
    gallery.classList.remove("hidden");
  }
  
  /* ‚úÖ VIDEO PLAYBACK FIX */
  function updateSlide() {
    slider.style.transform = `translateX(-${currentIndex * 100}%)`;
  
    // Pause all videos
    slider.querySelectorAll("video").forEach(video => {
      video.pause();
      video.currentTime = 0;
    });
  
    // Play active slide video if present
    const activeSlide = slider.children[currentIndex];
    const activeVideo = activeSlide?.querySelector("video");
    if (activeVideo) {
      activeVideo.play();
    }
  }
  
  function nextSlide() {
    if (currentIndex < activeMedia.length - 1) {
      currentIndex++;
      updateSlide();
    }
  }
  
  function prevSlide() {
    if (currentIndex > 0) {
      currentIndex--;
      updateSlide();
    }
  }
  
  function closeGallery() {
    gallery.classList.add("hidden");
    slider.innerHTML = "";
  }
  </script>
  
<script>



</script>
<script>
  const searchInput = document.getElementById("searchInput");
  const searchBtn = document.getElementById("searchBtn");
  const searchLoader = document.getElementById("searchLoader");
  const hotPicks = document.getElementById("hotPicks");

  function highlightText(text, query) {
    if (!query) return text;
    const regex = new RegExp(`(${query})`, "gi");
    return text.replace(
      regex,
      `<mark class="bg-yellow-300 text-black px-0.5 rounded">$1</mark>`
    );
  }

  function renderProducts(list) {
    productsGrid.innerHTML = list
      .map((product, index) => productCardTemplate(product, index))
      .join("");
  }

  function searchProducts() {
    const query = searchInput.value.trim().toLowerCase();

    // Show loader
    searchLoader.classList.remove("hidden");

    // Small delay for app-like feel
    setTimeout(() => {
      searchLoader.classList.add("hidden");

      if (!query) {
  noResultsMsg.classList.add("hidden");
  renderProducts(products);
  hotPicks.classList.remove("hidden"); // üëà SHOW on home
  return;
}

const results = products.filter(product =>
  product.title.toLowerCase().includes(query) ||
  product.description.toLowerCase().includes(query) ||
  product.price.toLowerCase().includes(query)
);

if (results.length === 0) {
  productsGrid.innerHTML = "";
  noResultsMsg.classList.remove("hidden");
  backHomeBottom.classList.add("hidden");
  hotPicks.classList.add("hidden"); // üëà HIDE
} else {
  noResultsMsg.classList.add("hidden");
  renderProducts(results);
  backHomeBottom.classList.remove("hidden");
  hotPicks.classList.add("hidden"); // üëà HIDE
}

    }, 600); // üëà smooth tiny wait
  }


  // ‚úÖ CLICK TO SEARCH
  searchBtn.addEventListener("click", searchProducts);

  // Optional: Enter key search
  searchInput.addEventListener("keydown", (e) => {
    if (e.key === "Enter") searchProducts();
  });

  // üè† Back to Home
  backHomeBtn.addEventListener("click", () => {
    searchInput.value = "";
    noResultsMsg.classList.add("hidden");
    renderProducts(products);
  });

  
</script>

<script>
  const uiWrapper = document.createElement("div");
  uiWrapper.id = "searchUI";
  uiWrapper.className = "w-full";

  uiWrapper.innerHTML = `
    <!-- No Results State -->
    <div
      id="noResultsMsg"
      class="hidden min-h-[60vh] flex flex-col items-center justify-center text-center gap-3"
    >
      <p class="text-sm text-zinc-400">
        We couldn‚Äôt find anything matching your search
      </p>

      <button
        id="backHomeBtnEmpty"
        class="px-4 py-1.5 rounded-full text-xs font-medium 
               border border-grey/20 text-black/80 
               hover:bg-white/10 transition"
      >
        Back to Home
      </button>
    </div>

    <!-- Bottom Back Home (for results) -->
    <div
      id="backHomeBottom"
      class="hidden w-full flex justify-center mt-10 mb-6"
    >
      <button
        class="px-4 py-1.5 rounded-full text-xs font-medium 
        border border-grey/20 text-black/80 
               hover:bg-white/10 transition"
      >
        Back to Home
      </button>
    </div>
  `;

  productsGrid.before(uiWrapper);

  const noResultsMsg = document.getElementById("noResultsMsg");
  const backHomeBtnEmpty = document.getElementById("backHomeBtnEmpty");
  const backHomeBottom = document.getElementById("backHomeBottom");
  const backHomeBtnBottom = backHomeBottom.querySelector("button");

  function resetHome() {
    searchInput.value = "";
    noResultsMsg.classList.add("hidden");
    backHomeBottom.classList.add("hidden");
    renderProducts(products);
  }

  backHomeBtnEmpty.addEventListener("click", resetHome);
  backHomeBtnBottom.addEventListener("click", resetHome);
</script>


  
<script>
  let cart = [];
  
  const cartCount = document.querySelector('#cartBtn span');
  const cartItems = document.getElementById('cartItems');
  
  function showToast(message) {
    const toast = document.getElementById('toast');
    toast.textContent = message;
    toast.classList.remove('opacity-0');
  
    setTimeout(() => {
      toast.classList.add('opacity-0');
    }, 2200);
  }
  
  function addToCart(productId) {
  const product = products.find(p => p.id === productId);
  if (!product) return;

  const exists = cart.find(item => item.id === productId);
  if (exists) {
    showToast('Item already added to cart');
    return;
  }

  cart.push(product);
  cartCount.textContent = cart.length;
  showToast(`${product.title} added to cart`);
  renderCart();
}

  
  document.getElementById('cartBtn').onclick = () => {
    document.getElementById('cartBackdrop').classList.remove('hidden');
    document.getElementById('cartSheet').classList.remove('translate-y-full');
  };
  
  function closeCart() {
    document.getElementById('cartBackdrop').classList.add('hidden');
    document.getElementById('cartSheet').classList.add('translate-y-full');
  }
  
  document.getElementById('cartBackdrop').onclick = closeCart;
  
  function renderCart() {
      cartItems.innerHTML = '';
    
      const emptyCart = document.getElementById('emptyCart');
    
      if (cart.length === 0) {
        emptyCart.classList.remove('hidden');
        document.getElementById('totalItems').textContent = 0;
        document.getElementById('itemsTotal').textContent = '‚Ç¶0';
        document.getElementById('shippingFee').textContent = '‚Ç¶0';
        document.getElementById('grandTotal').textContent = '‚Ç¶0';
        document.getElementById('payAmount').textContent = 0;
        return;
      }
    
      emptyCart.classList.add('hidden');
    
      let total = 0;
    
      cart.forEach((item, index) => {
        const price = parseInt(item.price.replace(/[^0-9]/g, ""));
        total += price;
    
        cartItems.innerHTML += `
          <div class="flex items-center gap-3">
            <img src="${item.imageTop}" class="w-12 h-12 rounded-md object-cover">
    
            <div class="flex-1">
              <p class="text-xs font-medium">${item.title}</p>
              <p class="text-[10px] text-gray-500">${item.price}</p>
            </div>
    
            <button onclick="removeItem(${index})"
              class="p-1 text-gray-400 hover:text-red-500 transition">
              <svg xmlns="http://www.w3.org/2000/svg"
                   class="h-4 w-4"
                   viewBox="0 0 24 24"
                   fill="none"
                   stroke="currentColor"
                   stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M3 6h18M8 6v14M16 6v14
                     M5 6l1 14a2 2 0 002 2h8
                     a2 2 0 002-2l1-14
                     M10 6V4a1 1 0 011-1h2
                     a1 1 0 011 1v2" />
              </svg>
            </button>
          </div>
    
          <div class="h-px bg-gray-200"></div>
        `;
      });
    
      document.getElementById('totalItems').textContent = cart.length;
      document.getElementById('itemsTotal').textContent = '‚Ç¶' + total;
    
      updateTotals();
    }
  
    document.getElementById("proceedCheckoutBtn").addEventListener("click", () => {
  if (!activeProductId) return;

  // 1Ô∏è‚É£ Add item to cart (uses your existing logic)
  addToCart(activeProductId);

  // 2Ô∏è‚É£ Close product modal
  closeModal();

  // 3Ô∏è‚É£ Open cart sheet
  document.getElementById('cartBackdrop').classList.remove('hidden');
  document.getElementById('cartSheet').classList.remove('translate-y-full');
});

  </script>
  <script>
    function removeItem(index) {
    cart.splice(index, 1);
    cartCount.textContent = cart.length;
    renderCart();
  }
  
  function updateTotals() {
    const shipping = parseInt(document.getElementById('shippingSelect').value);
    const itemsTotal = cart.reduce(
      (sum, i) => sum + parseInt(i.price.replace(/[^0-9]/g, '')), 0
    );
  
    document.getElementById('shippingFee').textContent = '‚Ç¶' + shipping;
    document.getElementById('grandTotal').textContent = '‚Ç¶' + (itemsTotal + shipping);
    document.getElementById('payAmount').textContent = itemsTotal + shipping;
  }

    </script>
    <script>
  
  function payWithPaystack() {
  const amount = parseInt(document.getElementById('payAmount').textContent);

  const handler = PaystackPop.setup({
    key: 'pk_test_0be3adc5c8e87c12499b8e221d12b05d65e4086e', // üî• your public key
    email: document.getElementById('customerEmail').value,
    amount: amount * 100,
    currency: 'NGN',
    ref: 'UKR_' + Date.now(),

    callback: function(response) {
      // ‚ö° instant result on current screen
      showPaymentSuccess(response.reference);

      cart = [];
      cartCount.textContent = 0;
      renderCart();
      updatePayButtonState();
    },

    onClose: function() {
      showPaymentError('Payment was cancelled');
    }
  });

  handler.openIframe();
}

    
function showPaymentSuccess(ref) {
  const modal = document.getElementById('paymentResult');
  modal.classList.remove('hidden');

  document.getElementById('paymentIcon').innerHTML = `
    <div class="w-16 h-16 rounded-full bg-green-100 flex items-center justify-center">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-600" fill="none"
           viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M5 13l4 4L19 7" />
      </svg>
    </div>
  `;

  document.getElementById('paymentTitle').textContent = 'Payment Successful üéâ';
  document.getElementById('paymentMessage').textContent = 'Thanks for shopping with UK Reeyah. Your order is being processed.';

  // Store order data
  const orderData = {
    ref,
    name: document.getElementById('customerName').value,
    email: document.getElementById('customerEmail').value,
    phone: document.getElementById('customerPhone').value,
    items: [...cart],
    amount: document.getElementById('payAmount').textContent
  };

  // Save to localStorage
  let orders = JSON.parse(localStorage.getItem('orders')) || [];
  orders.push(orderData);
  localStorage.setItem('orders', JSON.stringify(orders));

  const btn = document.getElementById('orderStatusBtn');
  btn.classList.remove('hidden');
  btn.onclick = () => {
    // Open orders.html
    window.location.href = 'orders.html';
  };

  cart = [];
  cartCount.textContent = 0;
  renderCart();
  updatePayButtonState();
}

    
      function showPaymentError(message) {
        const modal = document.getElementById('paymentResult');
        modal.classList.remove('hidden');
    
        document.getElementById('paymentIcon').innerHTML = `
          <div class="w-16 h-16 rounded-full bg-red-100 flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-red-600" fill="none"
                 viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M6 18L18 6M6 6l12 12" />
            </svg>
          </div>
        `;
    
        document.getElementById('paymentTitle').textContent =
          'Payment Failed';
    
        document.getElementById('paymentMessage').textContent =
          message || 'Something went wrong. Please try again.';
    
        document.getElementById('orderStatusBtn').classList.add('hidden');
      }
    
      function closePaymentResult() {
        document.getElementById('paymentResult').classList.add('hidden');
      }


    </script>
    <script>
      const payBtn = document.getElementById('payBtn');
      const nameInput = document.getElementById('customerName');
      const emailInput = document.getElementById('customerEmail');
      const phoneInput = document.getElementById('customerPhone');
      const shippingSelect = document.getElementById('shippingSelect');

      function getMissingCheckoutStep() {
  if (cart.length === 0) return 'Please add a product to cart';

  const name = nameInput.value.trim();
  if (!name) return 'Enter your full name';
  if (!isValidFullName(name))
    return 'Enter your first and last name';

  const email = emailInput.value.trim();
  if (!email) return 'Enter your email address';
  if (!isValidEmail(email))
    return 'Enter a valid email address';

  if (shippingSelect.value === '0') return 'Select a shipping address';

  const phone = phoneInput.value.trim();
  if (!phone) return 'Enter your phone number';
  if (!/^[0-9]{11}$/.test(phone))
    return 'Phone number must be 11 digits (e.g. 08012345678)';

  return null;
}


    
      function updatePayButtonState() {
        const missing = getMissingCheckoutStep();
    
        if (missing) {
          payBtn.disabled = true;
          payBtn.classList.add('opacity-40', 'cursor-not-allowed');
        } else {
          payBtn.disabled = false;
          payBtn.classList.remove('opacity-40', 'cursor-not-allowed');
        }
      }
    
      // Watch cart & inputs
      ['input', 'change'].forEach(evt => {
        document.addEventListener(evt, updatePayButtonState);
      });
    
      // Override click
      payBtn.addEventListener('click', (e) => {
        const missing = getMissingCheckoutStep();
        if (missing) {
          e.preventDefault();
          showToast(missing);
          return;
        }
        payWithPaystack();
      });
      phoneInput.addEventListener('input', () => {
  phoneInput.value = phoneInput.value.replace(/\D/g, '').slice(0, 11);
});
function isValidEmail(email) {
  return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
}
function isValidFullName(name) {
  return /^[A-Za-z]+(?:\s+[A-Za-z]+)+$/.test(name.trim());
}
nameInput.addEventListener('input', () => {
  nameInput.value = nameInput.value.replace(/[^A-Za-z\s]/g, '');
});

    </script>
    
    <script src="https://js.paystack.co/v1/inline.js"></script>
    <script>
      window.addEventListener('load', () => {
        const preloader = document.getElementById('appPreloader');
    
        setTimeout(() => {
          preloader.classList.add('preloader-hide');
        }, 500); // subtle delay for app feel
    
        setTimeout(() => {
          preloader.remove();
        }, 900);
      });
    </script>
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
      import {
        getAuth,
        onAuthStateChanged,
        signOut
      } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
      import {
        getFirestore,
        doc,
        getDoc,
        setDoc,
        serverTimestamp
      } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
      
      const firebaseConfig = {
        apiKey: "AIzaSyAyDac2t2GrNFAPeYq37QKCSulM5_fkcGg",
        authDomain: "wiesel-80160.firebaseapp.com",
        projectId: "wiesel-80160",
        storageBucket: "wiesel-80160.firebasestorage.app",
        messagingSenderId: "632126721223",
        appId: "1:632126721223:web:7e1057a7d02a65ef5542e2",
        measurementId: "G-Y3VRXF400Q"
      };
      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);
      const db = getFirestore(app);
      
      // ==================== TOAST HELPER ====================
      function showToast(msg, duration = 2000) {
        const toast = document.getElementById("toast");
        toast.textContent = msg;
        toast.classList.add("opacity-100");
        setTimeout(() => {
          toast.classList.remove("opacity-100");
        }, duration);
      }
      
      // ==================== LOAD USER DATA ====================
      onAuthStateChanged(auth, async (user) => {
        if (!user) {
          window.location.href = "index.html";
          return;
        }
      
        const ref = doc(db, "users", user.uid);
        let snap = await getDoc(ref);
      
        // If user doc doesn't exist ‚Üí create default
        if (!snap.exists()) {
          await setDoc(ref, {
            firstName: "User",
            lastName: "",
            photo: "",
            createdAt: serverTimestamp()
          });
          snap = await getDoc(ref);
        }
      
        const data = snap.data();
        const fullName = `${data.firstName} ${data.lastName}`.trim();
      
        document.getElementById("introName").textContent = data.firstName;
        document.getElementById("profileName").textContent = fullName || "User";
      
        if (data.photo) {
          document.getElementById("introAvatar").src = data.photo;
          document.getElementById("profileAvatar").src = data.photo;
        }
      
        if (data.createdAt?.toDate) {
          document.getElementById("profileDate").textContent =
            "Joined: " + data.createdAt.toDate().toDateString();
        }
      });
      
      // ==================== LOGOUT ====================
      document.getElementById("logoutBtn").onclick = async () => {
        await signOut(auth);
        window.location.href = "index.html";
      };
      
      // ==================== MODAL & EDIT ====================
      const editModal = document.getElementById("editProfileModal");
      const cancelBtn = document.getElementById("cancelEditBtn");
      const saveBtn = document.getElementById("saveEditBtn");
      const firstNameInput = document.getElementById("editFirstName");
      const lastNameInput = document.getElementById("editLastName");
      const photoInput = document.getElementById("editPhoto");
      
      // Open modal
      document.getElementById("editProfileBtn").onclick = async () => {
        const user = auth.currentUser;
        if (!user) return;
      
        const ref = doc(db, "users", user.uid);
        const snap = await getDoc(ref);
        const data = snap.data();
      
        firstNameInput.value = data.firstName || "";
        lastNameInput.value = data.lastName || "";
      
        editModal.classList.remove("hidden");
      };
      
      // Close modal
      cancelBtn.onclick = () => editModal.classList.add("hidden");
      
      // Clicking on avatar triggers image upload
      document.getElementById("introAvatar").onclick = () => photoInput.click();
      document.getElementById("profileAvatar").onclick = () => photoInput.click();
      
      // Save changes
      saveBtn.onclick = async () => {
        const user = auth.currentUser;
        if (!user) return;
      
        const firstName = firstNameInput.value.trim();
        const lastName = lastNameInput.value.trim();
      
        let photo = "";
      
        if (photoInput.files[0]) {
          const reader = new FileReader();
          reader.onload = async () => {
            photo = reader.result;
            await saveProfile(user.uid, firstName, lastName, photo);
          };
          reader.readAsDataURL(photoInput.files[0]);
        } else {
          await saveProfile(user.uid, firstName, lastName, "");
        }
      };
      
      // Save to Firestore & update UI in realtime
      async function saveProfile(uid, firstName, lastName, photo) {
        try {
          const ref = doc(db, "users", uid);
          await setDoc(
            ref,
            {
              firstName,
              lastName,
              ...(photo && { photo })
            },
            { merge: true }
          );
      
          // Update UI instantly
          document.getElementById("introName").textContent = firstName;
          document.getElementById("profileName").textContent = `${firstName} ${lastName}`.trim();
          if (photo) {
            document.getElementById("introAvatar").src = photo;
            document.getElementById("profileAvatar").src = photo;
          }
      
          showToast("‚úÖ Profile updated");
          editModal.classList.add("hidden");
        } catch (err) {
          console.error(err);
          showToast("‚ùå Failed to update profile");
        }
      }
      </script>
      <script>
let activeProductId = null;

function openModal(product) {
  activeProductId = product.id; // üëà store product

  document.getElementById("modalImage").src = product.imageTop;
  document.getElementById("modalTitle").textContent = product.title;
  document.getElementById("modalCondition").textContent = product.condition;
  document.getElementById("modalSize").textContent = product.size;
  document.getElementById("modalDelivery").textContent = product.delivery;

  productModal.classList.remove("hidden");
  productModal.classList.add("flex");
}

      </script>
 
</body>
</html>