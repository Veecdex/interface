<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="scss/_mixin.scss">
  <link rel="stylesheet" href="scss/_responsive.scss">
  <link rel="stylesheet" href="scss/style.scss">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UK reeyah</title>
<style>
  @media (max-width: 767px) {
    main {
      max-width: 100% !important;
      padding-left: 0 !important;
      padding-right: 0 !important;
      gap: 0 !important;
    }

    .product-info {
      padding: 0 !important;
    }

    .product-card > .product-info > button.bg-blue-400 {
      padding-left: 1rem !important;
      padding-right: 1rem !important;
    }
  }
  .gallery-frame {
  width: min(420px, 90vw);
  height: min(420px, 90vw);
}
@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

.skeleton {
  background: linear-gradient(
    90deg,
    #e5e7eb 25%,
    #f3f4f6 37%,
    #e5e7eb 63%
  );
  background-size: 1000px 100%;
  animation: shimmer 1.5s infinite linear;
}

.skeleton-dark {
  background: linear-gradient(
    90deg,
    #1a1a1a 25%,
    #2a2a2a 37%,
    #1a1a1a 63%
  );
  background-size: 1000px 100%;
  animation: shimmer 1.5s infinite linear;
}
@media (max-width: 640px) {
  #userPanel {
    right: 10% !important;
    nav-left: auto !important;
    max-width: 85vw;     /* AGGRESSIVE edge safety */
    margin-left: 0;
    margin-right: 0;

    padding-left: 12px;
    padding-right: 12px;
  }
}
/* Make notification panel independent of header */
#notifPanel {
  position: fixed !important;
  top: 80px;              /* adjust to sit below header */
  right: 16px;            /* safe spacing from edge */
  z-index: 9999;          /* above header & overlays */

  /* Safety */
  max-height: 70vh;
  overflow-y: auto;
}

/* MOBILE SAFETY */
@media (max-width: 640px) {
  #notifPanel {
    left: 50% !important;
    right: auto !important;
    transform: translateX(-50%) !important;

    width: 90vw;          /* aggressive edge safety */
    max-width: 360px;     /* prevents over-stretch */
  }
}
/* Payment Sheet Active */
#paymentSheet.active #paymentContent {
  transform: translateY(0);
}

</style>

  <!-- Modern font -->
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            app: ['Manrope', 'sans-serif'],
          },
        },
      },
    }
  </script>
</head>

<body class="bg-white-400 font-app text-zinc-900">

<!-- HEADER / HERO NAV -->
<header 
  class="fixed top-0 left-0 w-full z-50 pb-4 rounded-b-2xl overflow-hidden"
  style="background-image: url('images/Retail.jpeg'); background-size: cover; background-position: center;"
>
  <!-- Dark overlay -->
  <div class="absolute inset-0 bg-black/80"></div>


  <!-- Content -->
  <div class="relative z-10 max-w-7xl mx-auto px-5 pt-5 text-white">

    <!-- Top Nav -->
    <div class="flex items-center justify-between">
      
      <!-- Logo -->
      <div class="text-xl sm:text-2xl font-bold tracking-tight">
        <span class="text-[#6D5DF6]">UK <span class="text-white">reeyah</span>
      </div>

      <!-- Icons -->
      <div class="flex items-center gap-3">
        <button class="p-2 rounded-full hover:bg-white/15 transition">
          <svg xmlns="http://www.w3.org/2000/svg"
               class="h-5 w-5"
               viewBox="0 0 24 24"
               fill="currentColor">
            <path d="M21.41 11.58l-9-9A2 2 0 0011 2H4a2 2 0 00-2 2v7a2 2 0 00.59 1.41l9 9a2 2 0 002.82 0l7-7a2 2 0 000-2.83z"/>
            <circle cx="6.5" cy="6.5" r="1.5"/>
            <text x="10" y="14" font-size="7" fill="white">â‚¦</text>
          </svg>
        </button>
<!-- Cart Button -->
<div class="relative z-[100]">
  <button id="cartBtn"
    class="relative p-2 rounded-full hover:bg-white/15 transition overflow-visible">

    <!-- Cart Icon -->
    <svg xmlns="http://www.w3.org/2000/svg"
         class="h-5 w-5"
         viewBox="0 0 24 24"
         fill="currentColor">
      <path d="M3 3h2l.4 2M7 13h10l4-8H5.4
               M7 13l-1.3 2.6A1 1 0 007 17h12
               M7 13l1.5-3M16 13l-1.5-3
               M9 21a1 1 0 100-2
               M17 21a1 1 0 100-2z"/>
    </svg>

    <!-- Cart Count Badge (ALWAYS VISIBLE) -->
    <span
      class="
        absolute -top-1.5 -right-1.5
        z-[999]
        min-w-[16px] h-[16px]
        bg-[#6D5DF6]
        text-white
        text-[9px]
        font-semibold
        flex items-center justify-center
        rounded-full
        px-1
        pointer-events-none
      ">
      0
    </span>

  </button>
</div>


       <!-- Notification Button Wrapper -->
<div class="relative">
  <button id="notifBtn" class="relative p-2 rounded-full hover:bg-white/15 transition">
    <span class="absolute top-1.5 right-1.5 h-2 w-2 bg-[#6D5DF6] rounded-full"></span>
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
        d="M15 17h5l-1.4-1.4A2 2 0 0118 14.2V11a6 6 0 00-5-5.9V4a1 1 0 10-2 0v1.1A6 6 0 006 11v3.2c0 .5-.2 1-.6 1.4L4 17h5m6 0a3 3 0 11-6 0h6z" />
    </svg>
  </button>

  
  <!-- Notifications Panel -->
  <div id="notifPanel" class="hidden absolute top-full right-0 mt-2 w-72 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-lg p-3 z-50">
    
    <!-- Header -->
    <p class="font-semibold text-sm text-gray-900 dark:text-white mb-2">Notifications</p>
    
    <!-- Notification Items -->
    <div class="flex flex-col gap-2 mb-3">
      <!-- Update Notification -->
      <div class="flex items-start gap-2 p-2 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition">
        <div class="w-2 h-2 bg-[#6D5DF6] rounded-full mt-1"></div>
        <div>
          <p class="text-[12px] font-medium text-gray-900 dark:text-white">App Update</p>
          <p class="text-[10px] text-gray-500 dark:text-gray-300">Version 2.1 is now available!</p>
        </div>
      </div>

      <!-- Welcome Notification -->
      <div class="flex items-start gap-2 p-2 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition">
        <div class="w-2 h-2 bg-[#6D5DF6] rounded-full mt-1"></div>
        <div>
          <p class="text-[12px] font-medium text-gray-900 dark:text-white">Welcome New Users</p>
          <p class="text-[10px] text-gray-500 dark:text-gray-300">Check out the latest features!</p>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="flex gap-2 mt-1">
      <button class="flex-1 py-1 text-[12px] bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600">Customer Care</button>
      <button class="flex-1 py-1 text-[12px] bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600">Feedback</button>
    </div>
  </div>
</div>

<!-- Script -->
<script>
  const notifBtn = document.getElementById('notifBtn');
  const notifPanel = document.getElementById('notifPanel');

  notifBtn.addEventListener('click', (e) => {
    e.stopPropagation();
    notifPanel.classList.toggle('hidden');
  });

  document.addEventListener('click', (e) => {
    if (!notifPanel.contains(e.target) && !notifBtn.contains(e.target)) {
      notifPanel.classList.add('hidden');
    }
  });
</script>

      </div>
      
    </div>

    <!-- User Intro (centered) -->
    <div class="mt-6 flex flex-col items-center text-center">
      <div class="flex items-center gap-2 text-sm sm:text-base font-medium">
        <div class="h-7 w-7 rounded-full bg-white/20 flex items-center justify-center">
          <img src="images/testimonial.png" class="h-6 w-6" style="border-radius: 50%;" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          
        </div>
        <span>Hey, <span class="font-semibold">Dave</span></span>
      </div>
      <p class="mt-1 text-xs sm:text-sm text-white/80">
        What would you like to buy today?
      </p>
    </div>

    <!-- Search Bar -->
    <div class="mt-4 flex justify-center">
      <div class="w-full max-w-xl px-3">
        <div class="flex items-center rounded-full overflow-hidden bg-white/10 border border-white/20">
          <input
          id="searchInput"
          type="text"
          placeholder="Search products"
          class="w-full px-4 py-2 bg-transparent text-sm sm:text-base placeholder-white/70 outline-none text-white"
        />
        
        <button id="search button" class="bg-white text-[#1A1A1A] px-4 py-2 flex items-center justify-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 sm:h-5 sm:w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M21 21l-4.35-4.35m1.85-5.4a7 7 0 11-14 0 7 7 0 0114 0z" />
          </svg>
        </button>
        
        </div>
      </div>
    </div>

  </div>
</header>

<!-- Spacer to prevent content being hidden behind fixed header -->
<div class="h-[180px]"></div>
<div id="productsGrid" class="grid grid-cols-1 md:grid-cols-3 md:gap-3 gap-0 w-full"></div>
<!-- MAIN LAYOUT -->
<main class="max-w-7xl mx-auto px-5 py-6 flex gap-6">

<!-- Bottom Fixed Navigation (desktop + mobile) --> 
<aside class="fixed bottom-2 left-1/2 transform -translate-x-1/2 bg-white rounded-full shadow-lg px-6 py-2 flex justify-between w-[90%] max-w-3xl z-50">

  <!-- Home (active) -->
  <button class="flex flex-col items-center gap-0.5 text-[#0F0F0F]">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
        d="M3 9.75L12 4l9 5.75V20a1 1 0 01-1 1h-5v-6H9v6H4a1 1 0 01-1-1V9.75z" />
    </svg>
    <span class="text-[10px] font-medium">Home</span>
  </button>

  <!-- Orders -->
  <button class="flex flex-col items-center gap-0.5 text-zinc-600 hover:text-[#0F0F0F]">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
        d="M9 17v-2a4 4 0 014-4h4M7 7h10M7 11h6M5 21h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v14a2 2 0 002 2z" />
    </svg>
    <span class="text-[10px] font-medium">Orders</span>
  </button>

 <!-- Me Button with User Panel -->
<div class="relative">
  <button id="meBtn" class="flex flex-col items-center gap-0.5 text-zinc-600 hover:text-[#0F0F0F]">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
        d="M5.1 17a7 7 0 0113.8 0M12 12a4 4 0 100-8 4 4 0 000 8z" />
    </svg>
    <span class="text-[10px] font-medium">Me</span>
  </button>

  <!-- User Panel (hidden by default) -->
  <div style="margin-right: 100px;" id="userPanel" class="hidden absolute bottom-full mb-3
  left-2/5 -translate-x-2/5
  sm:left-auto sm:right-1/2 sm:translate-x-1/2
  w-60 max-w-[90vw]
  px-3
  bg-white dark:bg-gray-800
  border border-gray-200 dark:border-gray-700
  rounded-xl shadow-md p-3 z-50"
>
    
    <!-- User Info -->
    <div class="flex items-center gap-3 mb-3">
      <img src="images/testimonial.png" alt="User" class="w-9 h-9 rounded-full object-cover">
      <div>
        <p class="font-semibold text-sm text-gray-900 dark:text-white">John Doe</p>
        <p class="text-[10px] text-gray-500 dark:text-gray-400">Joined: Jan 1, 2023</p>
      </div>
    </div>

    <!-- Action Buttons Side by Side -->
    <div class="flex justify-between gap-2">
      <button class="flex-1 py-1 text-[12px] bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600">Edit</button>
      <button class="flex-1 py-1 text-[12px] bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600">Logout</button>
    </div>
  </div>
</div>

<!-- Script to toggle panel -->
<script>
  const meBtn = document.getElementById('meBtn');
  const userPanel = document.getElementById('userPanel');

  meBtn.addEventListener('click', (e) => {
    e.stopPropagation();
    userPanel.classList.toggle('hidden');
  });

  document.addEventListener('click', (e) => {
    if (!userPanel.contains(e.target) && !meBtn.contains(e.target)) {
      userPanel.classList.add('hidden');
    }
  });
</script>

</aside>



<!-- Lucide CDN -->
<script src="https://cdn.jsdelivr.net/npm/lucide@0.244.0/dist/lucide.min.js"></script>
<script>
  lucide.createIcons();
</script>


</main>
<div id="productModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/50 backdrop-blur-sm">
  
  <div class="relative bg-white w-[90%] max-w-md rounded-3xl p-5">
    
    <!-- Close -->
    <button onclick="closeModal()" class="absolute top-4 left-4 text-gray-500">
      âœ•
    </button>

    <!-- Image -->
    <div class="flex justify-center mt-4">
      <img id="modalImage" class="w-24 h-24 rounded-full object-cover" />
    </div>

    <!-- Title -->
    <h2 id="modalTitle" class="text-center font-bold mt-3"></h2>

    <!-- Details -->
    <div class="mt-4 text-sm text-gray-600 space-y-2">
      <p><b>1. Condition:</b> <span id="modalCondition"></span></p>
      <p><b>2. Size:</b> <span id="modalSize"></span></p>
      <p><b>3. Delivery:</b> <span id="modalDelivery"></span></p>
    </div>

    <!-- Payment -->
    <p class="text-xs text-center mt-4 text-gray-500">
      Secure payments powered by Paystack
    </p>

    <button class="mt-3 w-full bg-[#6D5DF6] text-white py-3 rounded-full font-semibold">
      Pay <span id="modalPrice"></span>
    </button>
  </div>
</div>
<div id="gallery" class="fixed inset-0 z-[999] hidden bg-black/80 flex items-center justify-center">

  <!-- Back -->
  <button onclick="closeGallery()"
    class="absolute top-5 left-5 w-11 h-11 rounded-full bg-black/60 backdrop-blur
           flex items-center justify-center text-white">
    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none"
      viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
        d="M15 19l-7-7 7-7" />
    </svg>
  </button>

  <!-- Slider container -->
  <div class="relative gallery-frame h-[400px] w-[400px] overflow-hidden rounded-2xl bg-black">
    <div id="gallerySlider" class="flex  transition-transform duration-300 ease-out">
    </div>

    <!-- Controls -->
    <button onclick="prevSlide()" 
      class="absolute left-2 top-1/2 -translate-y-1/2 w-9 h-9 rounded-full bg-black/60 text-white flex items-center justify-center">
      â€¹
    </button>

    <button onclick="nextSlide()" 
      class="absolute right-2 top-1/2 -translate-y-1/2 w-9 h-9 rounded-full bg-black/60 text-white flex items-center justify-center">
      â€º
    </button>
  </div>
</div>



<!-- Cart Backdrop -->
<div id="cartBackdrop" class="fixed inset-0 bg-black/40 hidden z-[999]"></div>

<!-- Cart Sheet -->
<div id="cartSheet"
  class="fixed bottom-0 left-0 w-full h-[90vh]
         bg-white rounded-t-2xl
         translate-y-full transition-transform duration-300
         z-[1000] flex flex-col">

  <!-- Header -->
  <div class="flex items-center gap-2 p-4 border-b">
    <button onclick="closeCart()" class="p-1">
      âœ•
    </button>
    <h2 class="font-semibold text-sm">My Shop Cart</h2>
  </div>

  <!-- Cart Items -->
  <div id="cartItems" class="flex-1 overflow-y-auto p-4 space-y-4"></div>

<!-- Empty Cart State -->
<div id="emptyCart"
  class="flex flex-col items-center justify-center
         text-center gap-3 py-2 text-gray-400">
  
  <!-- Empty Cart Icon -->
  <svg xmlns="http://www.w3.org/2000/svg"
       class="w-14 h-14"
       fill="none"
       viewBox="0 0 24 24"
       stroke="currentColor"
       stroke-width="1.5">
    <path stroke-linecap="round" stroke-linejoin="round"
      d="M3 3h2l.4 2M7 13h10l4-8H5.4
         M7 13l-1.5 3A1 1 0 007 18h12" />
  </svg>

  <p class="text-sm font-medium">Shop cart is empty</p>
</div>

  <!-- Checkout -->
  <div class="border-t p-4 space-y-3 text-xs">

    <p class="font-semibold">Checkout</p>

    <input placeholder="Full Name" class="w-full border rounded-md px-3 py-2">
    <input placeholder="Email" class="w-full border rounded-md px-3 py-2">

    <select id="shippingSelect" onchange="updateTotals()"
      class="w-full border rounded-md px-3 py-2">
      <option value="0">Select Shipping Address</option>
      <option value="2000">Lagos â€“ â‚¦2,000</option>
      <option value="4000">Outside Lagos â€“ â‚¦4,000</option>
    </select>

    <input placeholder="Phone Number" class="w-full border rounded-md px-3 py-2">

    <!-- Totals -->
    <div class="text-[11px] space-y-1">
      <div class="flex justify-between">
        <span>Total items</span><span id="totalItems">0</span>
      </div>
      <div class="flex justify-between">
        <span>Total price</span><span id="itemsTotal">â‚¦0</span>
      </div>
      <div class="flex justify-between">
        <span>Shipping fee</span><span id="shippingFee">â‚¦0</span>
      </div>
      <div class="flex justify-between font-semibold">
        <span>Total</span><span id="grandTotal">â‚¦0</span>
      </div>
    </div>

    <p class="text-[10px] text-center text-gray-500">
      Secured payments powered by Paystack
    </p>

    <button
      class="w-full bg-[#1A1A1A] text-white rounded-full py-3 text-sm font-semibold">
      Pay â‚¦<span id="payAmount">0</span>
    </button>
  </div>
</div>
<!-- Toast -->
<div id="toast"
  class="fixed bottom-6 left-1/2 -translate-x-1/2
         bg-[#1A1A1A] text-white
         px-4 py-2 rounded-full
         text-[12px]
         opacity-0 pointer-events-none
         transition-opacity duration-300
         z-[2000]">
</div>

<script>
  const productsGrid = document.getElementById("productsGrid");
  
  function productCardTemplate(product , index) {
    return `
    <div class="bg-white overflow-hidden md:rounded-2xl w-full flex flex-col">
  
      <!-- Media -->
      <div class="flex w-full md:h-48 gap-0 md:gap-1">
        <div class="flex flex-col gap-0 md:gap-1 w-1/2">
          <div class="relative h-24 md:h-28 overflow-hidden">
            <img 
  src="${product.imageTop}" 
  class="object-cover w-full h-full media-click"
  data-index="${index}"
  data-media="0"
/>

            <div class="absolute top-1 left-1 bg-black/40 text-white text-18 font-bold px-1 py-0.5 rounded">
              ${product.price}
            </div>
          </div>
          <div class="h-24 md:h-28 overflow-hidden">
            <img 
  src="${product.imageBottom}" 
  class="object-cover w-full h-full media-click"
  data-index="${index}"
  data-media="1"
/>

          </div>
        </div>
  
        <!-- Video preview -->
<div class="relative w-1/2 h-48 md:h-full overflow-hidden">
  <img
  src="${product.videoPreview}"
  class="object-cover w-full h-full cursor-pointer"
  onclick="openGallery(products[${index}].media, 2)"
/>

          <div class="absolute inset-0 bg-black/20"></div>
  
          <div class="absolute inset-0 flex items-center justify-center">
            <div   onclick="openGallery(products[${index}].media, 2)" class="flex items-center justify-center w-14 h-14 rounded-full bg-white/80 backdrop-blur-md shadow-md">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-blue" fill="currentColor" viewBox="0 0 24 24">
                <path d="M8 5v14l11-7z" />
              </svg>
            </div>
          </div>
        </div>
      </div>
  
      <!-- Info -->
      <div class="p-2 md:p-3 flex flex-col gap-1">
        <h2 class="text-xs md:text-sm font-semibold text-zinc-800">
          ${product.title}
        </h2>\
  
        <p class="text-xs text-zinc-500 line-clamp-2">
          ${product.description}
        </p>
  
        <button 
  class="text-blue 400 text-xs hover:underline text-left mt-1 view-details-btn"
  data-index="${index}">
  view details
</button>

  
<button
  onclick="addToCart({
    title: '${product.title}',
    price: '${product.price}',
    image: '${product.imageTop}'
  })"
  class="
    bg-[#e5e7eb]
    hover:bg-[#1A1A1A]
    hover:text-white
    text-[#0F0F0F]
    rounded-full
    px-5 py-3
    flex items-center justify-center gap-1.5
    text-[12px]
    md:text-xs
    font-semibold
    mt-2
    w-full
    transition-colors duration-200
  ">
  Add to cart
  <svg xmlns="http://www.w3.org/2000/svg"
       class="w-4 h-4 -mt-[1px]"
       viewBox="0 0 24 24"
       fill="currentColor">
    <path d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13l-1.3 2.6A1 1 0 007 17h12M7 13l1.5-3M16 13l-1.5-3M9 21a1 1 0 100-2zm10 0a1 1 0 100-2z"/>
  </svg>
</button>



      </div>
  
    </div>
    `;
  }
  </script>
  
<script>
  const products = [
    {
      title: "Leather Crossbody Bag",
    description: "Compact and stylish leather bag for everyday use.",
    price: "â‚¦18,500",
    media: [
  { type: "image", src: "images/project-03.png" },
  { type: "image", src: "images/Retail.jpeg" },

  // ðŸ‘‡ THIS IS THE VIDEO
  { type: "video", src: "videos/product-video.mp4" }
],

    imageTop: "images/project-03.png",
    imageBottom: "images/Retail.jpeg",
    videoPreview: "images/entertainment.jpg",
    condition: "New",
    size: "Medium",
    delivery: "Delivered within 2â€“3 business days"
    },
    {
      title: "Running Sneakers",
      description: "Lightweight sneakers ideal for jogging and casual wear. Breathable material with soft cushioning..",
      price: " â‚¦12,750",
      imageTop: "images/food.jpg",
      imageBottom: "images/energy.jpg",
      videoPreview: "images/service.jpg",
    },
    {
    title: "Classic Denim Jacket",
      description: " Stylish blue denim jacket perfect for casual wear. Limited edition, durable cotton fabric.",
      price: " â‚¦45,000",
      imageTop: "images/project-01.png",
      imageBottom: "images/project-02.png",
      videoPreview: "images/hospitality.jpg",
    },
    {
      title: "Leather Crossbody Bag",
      description: "Compact and stylish leather bag for everyday use. Adjustable strap and premium finish.",
      price: "â‚¦18,500",
      imageTop: "images/project-03.png",
      imageBottom: "images/Retail.jpeg",
      videoPreview: "images/entertainment.jpg",
    },
    {
      title: "Running Sneakers",
      description: "Lightweight sneakers ideal for jogging and casual wear. Breathable material with soft cushioning..",
      price: " â‚¦12,750",
      imageTop: "images/food.jpg",
      imageBottom: "images/energy.jpg",
      videoPreview: "images/service.jpg",
    },
    {
    title: "Classic Denim Jacket",
      description: " Stylish blue denim jacket perfect for casual wear. Limited edition, durable cotton fabric.",
      price: " â‚¦45,000",
      imageTop: "images/project-01.png",
      imageBottom: "images/project-02.png",
      videoPreview: "images/hospitality.jpg",
    }
  ];
  </script>
  <script>
products.forEach(product => {
  productsGrid.innerHTML += productCardTemplate(product);
});

</script>

<script>
  productsGrid.innerHTML = products
    .map((product, index) => productCardTemplate(product, index))
    .join("");
  </script>

<script>
  const modal = document.getElementById("productModal");
  
  document.addEventListener("click", (e) => {
    if (e.target.classList.contains("view-details-btn")) {
      const index = e.target.dataset.index;
      openModal(products[index]);
    }
  });
  
  function openModal(product) {
    document.getElementById("modalImage").src = product.imageTop;
    document.getElementById("modalTitle").textContent = product.title;
    document.getElementById("modalCondition").textContent = product.condition;
    document.getElementById("modalSize").textContent = product.size;
    document.getElementById("modalDelivery").textContent = product.delivery;
    document.getElementById("modalPrice").textContent = product.price;
  
    modal.classList.remove("hidden");
    modal.classList.add("flex");
  }
  
  function closeModal() {
    modal.classList.add("hidden");
    modal.classList.remove("flex");
  }
  </script>
<script>
  let currentIndex = 0;
  let activeMedia = [];
  
  const gallery = document.getElementById("gallery");
  const slider = document.getElementById("gallerySlider");
  
  /* âœ… FIXED CLICK HANDLER */
  document.addEventListener("click", (e) => {
    const mediaEl = e.target.closest(".media-click");
    if (!mediaEl) return;
  
    const p = products[mediaEl.dataset.index];
    openGallery(p.media, Number(mediaEl.dataset.media));
  });
  
  function openGallery(media, index) {
    activeMedia = media;
    currentIndex = index;
    slider.innerHTML = "";
  
    media.forEach(item => {
      const slide = document.createElement("div");
      slide.className = "w-full h-full shrink-0 flex items-center justify-center";
  
      if (item.type === "image") {
        slide.innerHTML = `
          <div class="w-[400px] h-[400px] overflow-hidden flex items-center justify-center">
            <img src="${item.src}"
                 class="w-full h-full object-cover" />
          </div>
        `;
      } else {
        slide.innerHTML = `
          <div class="w-[400px] h-[400px] overflow-hidden flex items-center justify-center">
            <video controls
                   class="w-full h-full object-cover">
              <source src="${item.src}" type="video/mp4">
            </video>
          </div>
        `;
      }
  
      slider.appendChild(slide);
    });
  
    updateSlide();
    gallery.classList.remove("hidden");
  }
  
  /* âœ… VIDEO PLAYBACK FIX */
  function updateSlide() {
    slider.style.transform = `translateX(-${currentIndex * 100}%)`;
  
    // Pause all videos
    slider.querySelectorAll("video").forEach(video => {
      video.pause();
      video.currentTime = 0;
    });
  
    // Play active slide video if present
    const activeSlide = slider.children[currentIndex];
    const activeVideo = activeSlide?.querySelector("video");
    if (activeVideo) {
      activeVideo.play();
    }
  }
  
  function nextSlide() {
    if (currentIndex < activeMedia.length - 1) {
      currentIndex++;
      updateSlide();
    }
  }
  
  function prevSlide() {
    if (currentIndex > 0) {
      currentIndex--;
      updateSlide();
    }
  }
  
  function closeGallery() {
    gallery.classList.add("hidden");
    slider.innerHTML = "";
  }
  </script>
  
<script>



</script>
<script>
  const searchInput = document.getElementById("searchInput");

  function highlightText(text, query) {
    if (!query) return text;
    const regex = new RegExp(`(${query})`, "gi");
    return text.replace(
      regex,
      `<mark class="bg-yellow-200 px-0.5 rounded">$1</mark>`
    );
  }

  function renderProducts(list) {
    productsGrid.innerHTML = list
      .map((product, index) => productCardTemplate(product, index))
      .join("");
  }

  function liveSearch() {
    const query = searchInput.value.trim().toLowerCase();

    if (!query) {
      noResultsMsg.classList.add("hidden");
      renderProducts(products);
      return;
    }

    const results = products
      .map((product, index) => {
        const match =
          product.title.toLowerCase().includes(query) ||
          product.description.toLowerCase().includes(query) ||
          product.price.toLowerCase().includes(query);

        if (!match) return null;

        return {
          ...product,
          title: highlightText(product.title, query),
          description: highlightText(product.description, query),
          price: highlightText(product.price, query),
        };
      })
      .filter(Boolean);

    if (results.length === 0) {
      productsGrid.innerHTML = "";
      noResultsMsg.classList.remove("hidden");
    } else {
      noResultsMsg.classList.add("hidden");
      renderProducts(results);
    }
  }

  // ðŸ”¥ Live typing search
  searchInput.addEventListener("input", liveSearch);

  // ðŸ  Back to Home always works
  backHomeBtn.addEventListener("click", () => {
    searchInput.value = "";
    noResultsMsg.classList.add("hidden");
    renderProducts(products);
  });
</script>
<script>
  const uiWrapper = document.createElement("div");
  uiWrapper.className = "w-full flex flex-col items-center gap-3 my-4";

  uiWrapper.innerHTML = `


  <p id="noResultsMsg" class="hidden text-sm text-zinc-400">
    No products found
    <button
    id="backHomeBtn"
    class="hidden px-4 py-2 rounded-full text-sm font-semibold bg-[#A15C4A] text-white hover:bg-[#8B4A3C] transition"
  >
    Back to Home
  </button>
  </p>
`;


  productsGrid.before(uiWrapper);

  const backHomeBtn = document.getElementById("backHomeBtn");
  const noResultsMsg = document.getElementById("noResultsMsg");
  backHomeBtn.addEventListener("click", () => {
  searchInput.value = "";
  noResultsMsg.classList.add("hidden");
  backHomeBtn.classList.add("hidden");
  renderProducts(products);
});

</script>
<script>
  function skeletonCard() {
  return `
    <div class="bg-white overflow-hidden md:rounded-2xl w-full flex flex-col">
      
      <!-- Media skeleton -->
      <div class="flex w-full md:h-48 gap-0 md:gap-1">
        <div class="flex flex-col gap-0 md:gap-1 w-1/2">
          <div class="h-24 md:h-28 skeleton"></div>
          <div class="h-24 md:h-28 skeleton"></div>
        </div>

        <div class="w-1/2 h-48 md:h-full skeleton"></div>
      </div>

      <!-- Info skeleton -->
      <div class="p-2 md:p-3 flex flex-col gap-2">
        <div class="h-3 w-3/4 skeleton rounded"></div>
        <div class="h-3 w-full skeleton rounded"></div>
        <div class="h-3 w-2/3 skeleton rounded"></div>

        <div class="h-8 w-full rounded-full skeleton-dark mt-2"></div>
      </div>
    </div>
  `;
}
// 1ï¸âƒ£ Show skeletons first
const SKELETON_COUNT = 6; // matches grid nicely

productsGrid.innerHTML = Array.from({ length: SKELETON_COUNT })
  .map(() => skeletonCard())
  .join("");

// 2ï¸âƒ£ Load real products (simulate loading)
setTimeout(() => {
  productsGrid.innerHTML = products
    .map((product, index) => productCardTemplate(product, index))
    .join("");
}, 1200); // adjust timing or remove when using real API

</script>
<script>
  let activeMedia = [];

document.addEventListener("click", (e) => {
  const target = e.target.closest(".media-click");
  if (!target) return;

  const index = Number(target.dataset.index);
  const type = target.dataset.type;
  const src = target.src;

  activeMedia = [
    {
      type,
      src
    }
  ];

  openPreview(0);
});

</script>

  
<script>
  let cart = [];
  
  const cartCount = document.querySelector('#cartBtn span');
  const cartItems = document.getElementById('cartItems');
  
  function showToast(message) {
    const toast = document.getElementById('toast');
    toast.textContent = message;
    toast.classList.remove('opacity-0');
  
    setTimeout(() => {
      toast.classList.add('opacity-0');
    }, 2200);
  }
  
  function addToCart(product) {
    const exists = cart.find(item => item.title === product.title);
  
    if (exists) {
      showToast('Item already added to cart');
      return;
    }
  
    cart.push(product);
    cartCount.textContent = cart.length;
  
    showToast(`${product.title} added to cart`);
    renderCart();
  }
  
  document.getElementById('cartBtn').onclick = () => {
    document.getElementById('cartBackdrop').classList.remove('hidden');
    document.getElementById('cartSheet').classList.remove('translate-y-full');
  };
  
  function closeCart() {
    document.getElementById('cartBackdrop').classList.add('hidden');
    document.getElementById('cartSheet').classList.add('translate-y-full');
  }
  
  document.getElementById('cartBackdrop').onclick = closeCart;
  
  function renderCart() {
      cartItems.innerHTML = '';
    
      const emptyCart = document.getElementById('emptyCart');
    
      if (cart.length === 0) {
        emptyCart.classList.remove('hidden');
        document.getElementById('totalItems').textContent = 0;
        document.getElementById('itemsTotal').textContent = 'â‚¦0';
        document.getElementById('shippingFee').textContent = 'â‚¦0';
        document.getElementById('grandTotal').textContent = 'â‚¦0';
        document.getElementById('payAmount').textContent = 0;
        return;
      }
    
      emptyCart.classList.add('hidden');
    
      let total = 0;
    
      cart.forEach((item, index) => {
        const price = parseInt(item.price.replace(/[^0-9]/g, ""));
        total += price;
    
        cartItems.innerHTML += `
          <div class="flex items-center gap-3">
            <img src="${item.image}" class="w-12 h-12 rounded-md object-cover">
    
            <div class="flex-1">
              <p class="text-xs font-medium">${item.title}</p>
              <p class="text-[10px] text-gray-500">${item.price}</p>
            </div>
    
            <button onclick="removeItem(${index})"
              class="p-1 text-gray-400 hover:text-red-500 transition">
              <svg xmlns="http://www.w3.org/2000/svg"
                   class="h-4 w-4"
                   viewBox="0 0 24 24"
                   fill="none"
                   stroke="currentColor"
                   stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M3 6h18M8 6v14M16 6v14
                     M5 6l1 14a2 2 0 002 2h8
                     a2 2 0 002-2l1-14
                     M10 6V4a1 1 0 011-1h2
                     a1 1 0 011 1v2" />
              </svg>
            </button>
          </div>
    
          <div class="h-px bg-gray-200"></div>
        `;
      });
    
      document.getElementById('totalItems').textContent = cart.length;
      document.getElementById('itemsTotal').textContent = 'â‚¦' + total;
    
      updateTotals();
    }
  

  </script>
  <script>
    function removeItem(index) {
    cart.splice(index, 1);
    cartCount.textContent = cart.length;
    renderCart();
  }
  
  function updateTotals() {
    const shipping = parseInt(document.getElementById('shippingSelect').value);
    const itemsTotal = cart.reduce(
      (sum, i) => sum + parseInt(i.price.replace(/[^0-9]/g, '')), 0
    );
  
    document.getElementById('shippingFee').textContent = 'â‚¦' + shipping;
    document.getElementById('grandTotal').textContent = 'â‚¦' + (itemsTotal + shipping);
    document.getElementById('payAmount').textContent = itemsTotal + shipping;
  }
    </script>
    
</body>
</html>
